{"version":3,"sources":["all.js","map.js"],"names":["apiUrl","app","Vue","el","data","area","disasterData","showinfo","created","callData","methods","filterArea","item","CaseLocationDistrict","$http","get","then","response","body","DataSet","NewDataSet","CASE_SUMMARY","initMap","status","map","google","maps","Map","document","getElementById","center","lat","lng","zoom","i","length","str","place","parseFloat","Wgs84Y","Wgs84X","title","Name","position","icon","Marker"],"mappings":";;AAAA,IAAMA,SAAS,uEAAf,EAAwF;;AAExF,IAAIC,MAAM,IAAIC,GAAJ,CAAQ;AAChBC,MAAI,MADY;AAEhBC,QAAM;AACJC,UAAM,IADF;AAEJC,kBAAc,IAFV;AAGJC,cAAU;AAHN,GAFU;AAOhBC,WAAS,mBAAY;AACnB;AACA,SAAKC,QAAL;AACD,GAVe;AAWhBC,WAAS;AACPC,gBAAY,oBAAUC,IAAV,EAAgB;AAC1B;AACA,UAAI,KAAKP,IAAL,IAAa,IAAjB,EAAuB;AACrB,eAAO,IAAP;AACD,OAFD,MAEO,IAAIO,KAAKC,oBAAL,IAA6B,KAAKR,IAAtC,EAA4C;AACjD,eAAO,IAAP;AACD;AACF,KARM;AASPI,cAAU,oBAAY;AAAA;;AACpB;AACA,WAAKK,KAAL,CAAWC,GAAX,CAAef,MAAf,EAAuBgB,IAAvB,CAA4B,oBAAY;;AAEtC;AACA,cAAKV,YAAL,GAAoBW,SAASC,IAAT,CAAcC,OAAd,CAAsB,iBAAtB,EAAyCC,UAAzC,CAAoDC,YAAxE;AACAC,gBAAQ,MAAKhB,YAAb;AACA,cAAKC,QAAL,GAAgBU,SAASM,MAAzB;AAED,OAPD,EAOG,oBAAY;AACb,cAAKhB,QAAL,GAAgBU,SAASM,MAAzB;AACD,OATD;AAUD;AAEH;AACA;AAxBS,GAXO,EAAR,CAAV;;AAsCA;;AAEA,SAASD,OAAT,CAAiBlB,IAAjB,EAAuB;AACrB;AACA,MAAIoB,MAAM,IAAIC,OAAOC,IAAP,CAAYC,GAAhB,CAAoBC,SAASC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC5DC,YAAQ;AACNC,WAAK,UADC;AAENC,WAAK;AAFC,KADoD;AAK5DC,UAAM;AALsD,GAApD,CAAV;AAOA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI9B,KAAK+B,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,QAAIE,MAAM,EAAV;AACA,QAAIC,QAAQ,EAAZ;;AAEAA,UAAMN,GAAN,GAAYO,WAAWlC,KAAK8B,CAAL,EAAQK,MAAnB,CAAZ;AACAF,UAAML,GAAN,GAAYM,WAAWlC,KAAK8B,CAAL,EAAQM,MAAnB,CAAZ;;AAEAJ,QAAIZ,GAAJ,GAAUA,GAAV;AACAY,QAAIK,KAAJ,GAAYrC,KAAK8B,CAAL,EAAQQ,IAApB;AACAN,QAAIO,QAAJ,GAAeN,KAAf;AACAD,QAAIQ,IAAJ,GAAW,+EAAX;AACA;AACA,QAAInB,OAAOC,IAAP,CAAYmB,MAAhB,CAAuBT,GAAvB;AACD;AACF;ACjED","file":"all.js","sourcesContent":["const apiUrl = 'https://tcgbusfs.blob.core.windows.net/blobfs/GetDisasterSummary.json'; //將apiUrl設定為常數不再變動。\n\nvar app = new Vue({\n  el: '#app',\n  data: {\n    area: '全部',\n    disasterData: null,\n    showinfo: null\n  },\n  created: function () {\n    //執行\n    this.callData()\n  },\n  methods: {\n    filterArea: function (item) {\n      //篩選區域\n      if (this.area == '全部') {\n        return true;\n      } else if (item.CaseLocationDistrict == this.area) {\n        return true;\n      }\n    },\n    callData: function () {\n      // GET /someUrl\n      this.$http.get(apiUrl).then(response => {\n\n        // 獲取災害資訊，取得資料\n        this.disasterData = response.body.DataSet['diffgr:diffgram'].NewDataSet.CASE_SUMMARY;\n        initMap(this.disasterData);\n        this.showinfo = response.status;\n\n      }, response => {\n        this.showinfo = response.status;\n      });\n    }\n  }\n  /*https://github.com/pagekit/vue-resource*/\n  /*VUE RESOURCE*/\n})\n\n// Google Map API\n\nfunction initMap(data) {\n  // 設定中心點座標\n  var map = new google.maps.Map(document.getElementById('map'), {\n    center: {\n      lat: 25.0329636,\n      lng: 121.5654268\n    },\n    zoom: 13\n  });\n  for (var i = 0; i < data.length; i++) {\n    var str = {};\n    var place = {};\n\n    place.lat = parseFloat(data[i].Wgs84Y);\n    place.lng = parseFloat(data[i].Wgs84X);\n\n    str.map = map;\n    str.title = data[i].Name;\n    str.position = place;\n    str.icon = 'https://developers.google.com/maps/documentation/javascript/images/circle.png';\n    // console.log(place);\n    new google.maps.Marker(str);\n  }\n}",""]}